package plantgame;
import java.awt.Frame;
import java.awt.Graphics;
import java.awt.Image;
import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;

public class Enter extends Frame{
	//??????????
	class HelpRepaint extends Thread{
		@Override
		public void run() {
			while(true) {
				repaint();
				try {
					Thread.sleep(40);
				} catch (InterruptedException e) {
					e.printStackTrace();
				}
			}
		}
		
	}
	/*
	 * main????
	 */
	private static final long serialVersionUID = 1L;
	public static void main(String[] args) {
		new LoadFrame();/*???????LoadFrame????????治???*/
		new GameFrame();
		new Enter();
	}
	//??????
	public Enter() {
		Image ico=GameUtil.getImage(("LoadFrame/ico.png"));/*???????????*/
		this.setTitle("???VS???");
		this.setIconImage(ico);   /*????????logo*/
		this.setSize(800,632);/*??????????*/
		this.setLocation(300,100);
		this.setVisible(true);
		this.setResizable(false);
		LoadFrame.live=true;
		LoadFrame.util.playBGM();
		//??????
		HelpRepaint help=new HelpRepaint();
		help.start();
		//???????ɡ???????
		this.addWindowListener(new WindowAdapter() {
			@Override
			public void windowClosing(WindowEvent e) {
				System.exit(0);
			}
		});
		//????????????????
		this.addMouseListener(new MouseAdapter() {
			@Override
			public void mouseClicked(MouseEvent e) {
				if(LoadFrame.live) {//??????浥?????
					LoadFrame.MouseClick(e);
				}else if(MenuFrame.live) {//????????????
					MenuFrame.MouseClick(e);
				}else if(AchieveFrame.live) {//????????????
					AchieveFrame.MouseClick(e);
				}else if(GardenFrame.live) {//??????????
					GardenFrame.MouseClick(e);
				}else if(TuJianFrame.live) {//??????????
					TuJianFrame.MouseClick(e);
				}else if(ShopFrame.live) {//?????????
					ShopFrame.MouseClick(e);
				}else if(HelpFrame.live) {//Help???????
					HelpFrame.MouseClick(e);
				}else if(MiniFrame.live) {//Mini???????
					MiniFrame.MouseClick(e);
				}else if(PuzzleFrame.live) {//Puzzle???????
					PuzzleFrame.MouseClick(e);
				}else if(SurvivalFrame.live) {//Survival???????
					SurvivalFrame.MouseClick(e);
				}else if(GameFrame.live) {//GameFrame???????
					GameFrame.MouseClick(e);
				}
				
				
				
				
				
				
			}
		});
		//??????????????????
		this.addMouseMotionListener(new MouseAdapter() {
			@Override
			public void mouseMoved(MouseEvent e) {
				if(LoadFrame.live) {//??????????????
					LoadFrame.MouseMove(e);
				}else if(MenuFrame.live) {//?????????????
					MenuFrame.MouseMove(e);
				}else if(AchieveFrame.live) {//?????????????
					AchieveFrame.MouseMove(e);
				}else if(GardenFrame.live) {//???????????
					GardenFrame.MouseMove(e);
				}else if(TuJianFrame.live) {//???????????
					TuJianFrame.MouseMove(e);
				}else if(ShopFrame.live) {//??????????
					ShopFrame.MouseMove(e);
				}else if(HelpFrame.live) {//Help????????
					HelpFrame.MouseMove(e);
				}else if(MiniFrame.live) {//Mini????????
					MiniFrame.MouseMove(e);
				}else if(PuzzleFrame.live) {//Puzzle????????
					PuzzleFrame.MouseMove(e);
				}else if(SurvivalFrame.live) {//Survival????????
					SurvivalFrame.MouseMove(e);
				}else if(GameFrame.live) {//GameFrame????????
					GameFrame.MouseMove(e);
				}
				
				
				
				
				
				
				
				
			}
		});
	}
	
	
	
	
	
	public void paint(Graphics g) {
		if(LoadFrame.live) {//??????????
			LoadFrame.draw(g);
		}else if(MenuFrame.live) {//?????????????
			MenuFrame.draw(g);
		}else if(AchieveFrame.live) {//?????????
			AchieveFrame.draw(g);
		}else if(GardenFrame.live) {//??????????
			GardenFrame.draw(g);
		}else if(TuJianFrame.live) {//???????????
			TuJianFrame.draw(g);
		}else if(ShopFrame.live) {//??????????
			ShopFrame.draw(g);
		}else if(HelpFrame.live) {//????Help????
			HelpFrame.draw(g);
		}else if(MiniFrame.live) {//????Mini????
			MiniFrame.draw(g);
		}else if(PuzzleFrame.live) {//????Puzzle????
			PuzzleFrame.draw(g);
		}else if(SurvivalFrame.live) {//????Survival????
			SurvivalFrame.draw(g);
		}else if(GameFrame.live) {//?????????????
			GameFrame.draw(g);
		}
		
		
		
		
		
	}
	
	
	/*
	 * ??????????????
	 */
	private Image offScreenImage=null;
	public void update(Graphics g)
	{
		if(offScreenImage==null)offScreenImage=this.createImage(804,640);
		Graphics gOff=offScreenImage.getGraphics();
		paint(gOff);
		g.drawImage(offScreenImage,0,0,null);
	}
}
